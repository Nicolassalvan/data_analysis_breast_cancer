---
title: "Projet - 4surX - ACP et AFD"
author: "Nicolas SALVAN"
date: "2024-05-24"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Lecture des données nettoyées 

## Importation du dataset 

```{r}
data <- read.csv("data/data_cleaned.csv", header = TRUE, sep = ",")
data$diagnosis <- as.factor(data$diagnosis)

```

## Aperçu rapide 

```{r}
head(data)
# dim(data)
# str(data)
```

# AFD - Analyse Factorielle discriminante 

## Lancement d'une AFD sur les données 

```{r}
library(MASS)
```


```{r}
res.afd <- lda(diagnosis ~ ., data = data)
res.afd
```


Pour tracer le cercle de corrélation, il nous faut les coordonnées des variables sur les axes discriminants. Or, comme il y a un seul axe, les coordonnées des variables sont les coefficients de l'axe discriminant. 




```{r}
F12 = predict(res.afd, prior=rep(1/2,2))$x
cercle_correlation=cor(data[,-1],F12)
cercle_correlation <- cbind(cercle_correlation, rep(0, nrow(cercle_correlation)))
a=seq(0,2* pi,length=100)
plot(cos(a), sin(a), type='l',lty=3,xlab='Dim 1', ylab='Dim 2',main="Cercle des corrélations AFD" )

arrows(0,0,cercle_correlation[,1],cercle_correlation[,2],col=2)
text(cercle_correlation,labels=colnames(data[,-1]), col = "red", cex = 0.7, pos = 3, offset = 0.5, srt = 75)

```
On ne peut pas distinguer une variable en particulier qui influe sur la classification. En effet, le cercle manque un peu de visibilité. On peut faire un barplot des variables pour voir lesquelles sont les plus discriminantes. 

```{r}
most_discriminant <- sort(abs(cercle_correlation[,1]), decreasing = TRUE)[1:10]
barplot(most_discriminant, names.arg=colnames(most_discriminant), las=2, col=rainbow(30), main="Histogramme des variables les + discriminantes", cex.names = 0.5, horiz = FALSE, ylim = c(0,1)) 


```

Les variables les plus discriminantes sont les variables qui ont une influence sur l'axe discriminant. Parmi elles, on observe notamment les variables `concave.points_worst`, `perimeter.worst`, `concave.points_mean` et `radius_worst`.







